{"version":3,"sources":["Component/index.jsx","Component/pdf.jsx","App.js","reportWebVitals.js","index.js"],"names":["Index","useContext","customer","user","setUser","url","useParams","ref","useState","o","setO","alert","setAlert","err","setErr","useEffect","axios","get","then","response","data","console","log","closeModal","email","setEmail","v","s","src","alt","billRef","className","to","onClick","e","filePath","method","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","preventDefault","Dialog","scroll","maxWidth","open","onClose","Alert","severity","type","required","placeholder","value","onChange","target","res","setTimeout","catch","error","PDF","numPages","setNumPages","pageNumber","onDocumentLoadSuccess","Array","apply","map","p","index","file","onLoadSuccess","pdfjs","GlobalWorkerOptions","workerSrc","version","React","createContext","App","Provider","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cb2321b9.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport '../App.css'\nimport { useParams, Link } from 'react-router-dom'\nimport { Dialog } from '@material-ui/core'\nimport {Alert} from '@material-ui/lab'\nimport { customer } from '../App'\nimport axios from 'axios'\nfunction Index() {\n    const [user, setUser] = useContext(customer)\n    const { ref } = useParams()\n    const url = \"http://www.scoremee.com/amds-1.0/api/v1/webfile/\"+ref\n    const [o, setO] = useState(false)\n    const [alert, setAlert] = useState(false)\n    const [err, setErr] = useState(false)\n    const openModal = (e) => {\n        e.preventDefault();\n        setO(true);\n    }\n    useEffect(() => {\n        axios.get(url)\n            .then(response => {\n                setUser(response.data)\n                console.log(user)\n            })\n    }, [])\n    const closeModal = () => {\n        setO(false);\n    }\n    const [email, setEmail] = useState('')\n\n    const [v, s] = useState(false)\n    const verify = () => {\n        s(false)\n    }\n\n    const sendMail = () => {\n        if(email===''){\n            setErr(true)\n        } else{\n        axios.get(url + \"/\" + email)\n            .then(res => {\n                setAlert(true)\n                setTimeout(()=>{\n                setAlert(false)\n                setO(false)\n                },2000)\n            })\n            .catch(error => {\n                setErr(true)\n                setTimeout(()=>{\n                setErr(false)\n                setO(false)\n                },2000)\n            })\n    }}\n\n    const download = () => {\n        axios({\n            url: user.filePath, //your url\n            method: 'GET',\n            responseType: 'blob', // important\n        }).then((response) => {\n            const url = window.URL.createObjectURL(new Blob([response.data]));\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', 'bill-invoice.pdf'); //or any other extension\n            document.body.appendChild(link);\n            link.click();\n        });\n    }\n\n\n\n    return (\n        < div>\n            <img src='joh.png' alt=\"Joburg-logo\" />\n            <table>\n                <tr>\n                    <td>\n                        Organization Name\n                    </td>\n                    <td>\n                        City of Johannesburg\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        Bill Reference\n                    </td>\n                    <td>\n                        {user.billRef}\n                    </td>\n                </tr>\n            </table>\n            <fieldset>\n                <legend>FUNCTIONS</legend>\n                <div className=\"functionalities\">\n                    <Link to=\"/amds-1.0/pdf/read\"><button>VIEW</button></Link>  Click to view in our secure browser\n                </div>\n                <div className=\"functionalities\">\n                    <button onClick={e => s(true)}>VERIFY</button> Verify to be sure the bill is valid and authentic\n                </div>\n                <div className=\"functionalities\">\n                    <button onClick={download}>DOWNLOAD</button> Download bill to your computer\n                </div>\n                <div className=\"functionalities\">\n                    <button onClick={openModal}>EMAIL</button> Email PDF to your email address\n                </div>\n            </fieldset><br></br>\n            <fieldset className=\"query\">\n                <legend>GENERAL QUERIES</legend>\n                <p>Customer Care Number</p>\n                <p>0860 Joburg or 0860 56 28 74</p>\n\n                <p>Email</p>\n                <a href=\"malto:joburgconnect@joburg.org.za\"><p>joburgconnect@joburg.org.za</p></a>\n            </fieldset>\n            <h2>Powered By</h2>\n            <img src=\"power.jpeg\" alt=\"powered-by\" className=\"pow\" />\n\n            <Dialog\n                scroll=\"body\"\n                maxWidth=\"lg\"\n                open={o}\n                onClose={closeModal}\n            >\n                <div className=\"modal\">\n                {err&&<Alert severity=\"error\">Input Field Empty or Internet Connection lost</Alert>}\n                {alert&&<Alert severity=\"success\">Email sent!</Alert>}\n                    <h3>Email Address</h3>\n                    <input type=\"email\" required placeholder=\"enter your email address\" value={email} onChange={e => setEmail(e.target.value)} />\n                    <div className=\"buttons\">\n                        <button className=\"close\" onClick={closeModal}>close</button>\n                        <button className=\"bill\" onClick={sendMail}>Send Bill</button>\n                    </div>\n                </div>\n            </Dialog>\n\n            <Dialog\n                scroll=\"body\"\n                maxWidth=\"lg\"\n                open={v}\n                onClose={verify}\n            >\n                <div className=\"modal\">\n\n                    <p>{user.filePath===null?'This Bill is not authenctic and not from Joburg':'This Bill is authenctic from Joburg'}</p>\n\n                </div>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default Index\n","import React, { useState,useEffect,useContext} from 'react';\nimport { Page,Document } from 'react-pdf/dist/esm/entry.webpack';\nimport {customer} from '../App'\nimport { pdfjs } from 'react-pdf';\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\n\nexport default function PDF() {\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber,setPageNumber] = useState(1);\n  const [user] =useContext(customer)\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n   \n  }\n \n\n  \n\n  return (\n    <div>\n       { Array.apply(null,new Array(numPages)).map((p,index)=><Document\n        file={{url: user.filePath}}\n        onLoadSuccess={onDocumentLoadSuccess}\n      >\n        <Page pageNumber={pageNumber+index} /> \n        <hr/>\n      </Document>)}\n    </div>\n  );\n}","import './App.css';\nimport React, { useState } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Index from '../src/Component/index'\nimport PDF from '../src/Component/pdf'\n\n\n\nexport const customer = React.createContext()\nfunction App() {\n  const [user, setUser] = useState({})\n  return (\n    <customer.Provider value={[user, setUser]}>\n      <Router>\n        <Switch>\n        <Route exact path={'/amds-1.0/:ref'} component={Index} />\n          <Route path={'/amds-1.0/pdf/read'} component={PDF} />\n          <PDF />\n        </Switch>\n      </Router>\n    </customer.Provider>\n\n  )\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}