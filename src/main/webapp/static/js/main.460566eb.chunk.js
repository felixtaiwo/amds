(this.webpackJsonpmu=this.webpackJsonpmu||[]).push([[0],{116:function(e,t){},154:function(e,t,n){},194:function(e,t){},195:function(e,t){},196:function(e,t){},197:function(e,t){},198:function(e,t){},305:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(18),s=n.n(a),i=(n(154),n(9)),o=(n(56),n(51)),j=n(13),l=n(329),b=n(330),d=n(28),u=n.n(d),O=n(42),h=n(1);var x=function(){var e=Object(c.useContext)(y),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(j.f)().ref,s=Object(c.useState)(!1),d=Object(i.a)(s,2),x=d[0],g=d[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),p=m[0],v=m[1],C=Object(c.useState)(""),w=Object(i.a)(C,2),S=w[0],N=w[1],z="https://www.ecoj.org.za/coj/api/v1/webfile/"+a,E=Object(c.useState)(!1),F=Object(i.a)(E,2),k=F[0],B=F[1],A=Object(c.useState)(!1),D=Object(i.a)(A,2),P=D[0],T=D[1],I=Object(c.useState)(!1),L=Object(i.a)(I,2),R=L[0],q=L[1],W=Object(c.useState)(!1),J=Object(i.a)(W,2),M=J[0],G=J[1];Object(c.useEffect)((function(){g(!1),u.a.get(z).then((function(e){N(e.data)})),$()}),[p]);var U=function(){B(!1)},V=Object(c.useState)(""),X=Object(i.a)(V,2),H=X[0],K=X[1],Y=Object(c.useState)(!1),Q=Object(i.a)(Y,2),_=Q[0],Z=Q[1],$=function(){4===p.length&&(q(!0),u.a.get(z+"/"+p).then((function(e){O.toast.success("Mobile Verification Successful"),r(e.data),q(!1),g(!0)})).catch((function(e){O.toast.error("Mobile Verification Failed"),v(""),q(!1)})))};return Object(h.jsxs)("div",{id:"page",children:[Object(h.jsx)("img",{src:"joh.png",alt:"Joburg-logo"}),Object(h.jsxs)("table",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Organization Name"}),Object(h.jsx)("td",{children:"City of Johannesburg"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Bill Reference"}),Object(h.jsx)("td",{children:n.billRef})]})]}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("legend",{children:"FUNCTIONS"}),Object(h.jsxs)("div",{className:"functionalities",children:[Object(h.jsx)(o.b,{to:"/coj/pdf/read",children:Object(h.jsx)("button",{children:"VIEW"})}),"  Click to view in your Browser"]}),Object(h.jsxs)("div",{className:"functionalities",children:[Object(h.jsxs)("a",{href:"https://www.e-joburg.org.za/account-manager",children:[" ",Object(h.jsx)("button",{children:"PAY NOW"})]})," Click to pay"]}),Object(h.jsxs)("div",{className:"functionalities",children:[Object(h.jsx)("button",{onClick:function(){u()({url:n.filePath,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","bill-invoice.pdf"),document.body.appendChild(n),n.click()}))},children:"DOWNLOAD"})," Download Bill to Device"]}),Object(h.jsxs)("div",{className:"functionalities",children:[Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),B(!0)},children:"EMAIL"})," Email PDF to your Email Address"]}),Object(h.jsxs)("div",{className:"functionalities",children:[Object(h.jsxs)("a",{href:"https://www.joburg.org.za/key-documents",children:[" ",Object(h.jsx)("button",{children:"KEY DOCUMENTS"})]})," Click to view Key Documents"]})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("fieldset",{className:"query",children:[Object(h.jsx)("legend",{children:"GENERAL QUERIES"}),Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:"Customer Care Number"})}),Object(h.jsx)("p",{children:"0860 Joburg or 0860 56 28 74"}),Object(h.jsx)("a",{href:"malto:joburgconnect@joburg.org.za",children:Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:"joburgconnect@joburg.org.za"})})}),Object(h.jsxs)("table",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("b",{children:"Customer Service Centre"})}),Object(h.jsx)("td",{children:Object(h.jsx)("b",{children:"Email Address"})}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Waterfall CSC"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionArevenue@joburg.org.za",children:"regionArevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Randburg Civic Centre"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionBrevenue@joburg.org.za",children:"regionBrevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Roodepoort Civic Centre & City Hall"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionCrevenue@joburg.org.za",children:"regionCrevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Jabulani Civic Centre"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionDrevenue@joburg.org.za",children:"regionDrevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Sandton Regional Office"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionErevenue@joburg.org.za",children:"regionErevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Thuso House CSC"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionFrevenue@joburg.org.za",children:"regionFrevenue@joburg.org.za"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Lenasia Civic CSC"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"malto:regionGrevenue@joburg.org.za",children:"regionGrevenue@joburg.org.za"})})]})]})]}),Object(h.jsx)(l.a,{scroll:"body",maxWidth:"lg",open:k,onClose:U,children:Object(h.jsxs)("div",{className:"modal",children:[M&&Object(h.jsx)(b.a,{severity:"error",children:"Input Field Empty or Internet Connection lost"}),P&&Object(h.jsx)(b.a,{severity:"success",children:"Email sent!"}),Object(h.jsxs)("center",{children:[Object(h.jsx)("h3",{children:"Email Address"}),Object(h.jsx)("input",{className:"mobile-input",type:"email",required:!0,placeholder:"email address...",value:H,onChange:function(e){return K(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)("button",{className:"close",onClick:U,children:"close"}),Object(h.jsx)("button",{className:"bill",onClick:function(){""===H?G(!0):u.a.get(z+"/sendemail/"+H).then((function(e){T(!0),setTimeout((function(){T(!1),B(!1)}),2e3)})).catch((function(e){G(!0),setTimeout((function(){G(!1),B(!1)}),2e3)}))},children:"Send Bill"})]})]})]})}),Object(h.jsx)(l.a,{scroll:"body",maxWidth:"lg",open:_,onClose:function(){Z(!1)},children:Object(h.jsx)("div",{className:"modal",children:Object(h.jsx)("p",{children:null===n.filePath?"This Bill is not authentic and not from City of Joburg":"This Bill is authentic from City of Joburg"})})}),Object(h.jsx)(l.a,{scroll:"body",maxWidth:"lg",open:!x,children:Object(h.jsxs)("div",{className:"modal",children:[Object(h.jsx)("p",{children:""===S?"Invalid Bill Reference":"Enter the last 4 digits of your mobile"}),""===S?"":Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:[" ",S+"XXXX"]}),Object(h.jsxs)("center",{children:[!R&&Object(h.jsx)("input",{className:"mobile-input",maxLength:"4",type:"text",value:p,onChange:function(e){return v(e.target.value)}}),R&&Object(h.jsx)("p",{children:"checking..."})]})]})]})})]})},g=n(101),f=n(100);function m(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(1),s=Object(i.a)(a,2),o=s[0],j=(s[1],Object(c.useContext)(y)),l=Object(i.a)(j,1)[0];function b(e){var t=e.numPages;r(t)}return Object(h.jsx)("div",{children:Array.apply(null,new Array(n)).map((function(e,t){return Object(h.jsxs)(g.a,{file:{url:l.filePath},onLoadSuccess:b,children:[Object(h.jsx)(g.b,{pageNumber:o+t}),"_"]})}))})}f.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(f.a.version,"/pdf.worker.min.js");var p=n(144),v=function(e){var t=e.data1,n=e.data2,r=e.label1,a=e.label2,s=e.desc,o=Object(c.useState)({labels:[r,a],datasets:[{data:[t,n],backgroundColor:["#949FB1","#FDB45C","#4D5360"],hoverBackgroundColor:["#FF5A5E","#5AD3D1"]}]}),j=Object(i.a)(o,2),l=j[0];j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{className:"mt-5",children:s}),Object(h.jsx)(p.a,{data:l,options:{responsive:!0},className:"chart"})]})},C=function(){var e=Object(c.useContext)(z),t=Object(i.a)(e,2),n=(t[0],t[1]),r=Object(c.useContext)(E),a=Object(i.a)(r,2),s=a[0],o=a[1],j=Object(c.useState)(""),l=Object(i.a)(j,2),b=l[0],d=l[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),f=g[0],m=g[1];return Object(h.jsxs)("div",{className:"dashboard",children:["From",Object(h.jsx)("input",{classname:"date-input",type:"date",value:b,onChange:function(e){return d(e.target.value)}}),"To ",Object(h.jsx)("input",{classname:"date-input",type:"date",value:f,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("span",{className:"btn-search",onClick:function(){o(null),u.a.get("https://www.ecoj.org.za/coj/api/v1/user/getdata",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uux"))},params:{from:new Date(b.substring(0,4),b.substring(5,7)-1,b.substring(8,10)).getTime(),to:new Date(f.substring(0,4),f.substring(5,7)-1,f.substring(8,10)).getTime()}}).then((function(e){return o(e.data)}))},children:"filter "}),Object(h.jsx)("span",{className:"btn-reset",onClick:function(){o(null),d(""),m(""),u.a.get("https://www.ecoj.org.za/coj/api/v1/user/getdata",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uux"))}}).then((function(e){return o(e.data)}))},children:"clear "}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("legend",{children:"Data Summary"}),Object(h.jsxs)("table",{children:[Object(h.jsx)("th",{children:"Web Files"}),Object(h.jsx)("th",{children:"Pending Email Request"}),Object(h.jsx)("th",{children:"Pending SMS Request"}),Object(h.jsx)("th",{children:"Verified Files"}),Object(h.jsxs)("tr",{className:"admin-tablerow",children:[Object(h.jsx)("td",{children:null!==s?s.webfilecount:""}),Object(h.jsx)("td",{children:null!==s?s.pendingemailrequestcount:""}),Object(h.jsx)("td",{children:null!==s?s.pendingsmsrequestcount:""}),Object(h.jsx)("td",{children:null!==s?s.verifiedfiles:""})]})]})]}),Object(h.jsxs)("div",{className:"chart",children:[null!==s&&Object(h.jsx)(v,{data1:s.total-s.webfilecount,data2:s.webfilecount,label1:"Total",label2:"Webfile",desc:"Webile"}),null!==s&&Object(h.jsx)(v,{data1:s.total-s.pendingemailrequestcount,data2:s.pendingemailrequestcount,label1:"Sent",label2:"Pending",desc:"Pending Email Requests"}),null!==s&&Object(h.jsx)(v,{data1:s.total-s.pendingsmsrequestcount,data2:s.pendingsmsrequestcount,label1:"Sent",label2:"Pending ",desc:"Pending SMS Requests"}),null!==s&&Object(h.jsx)(v,{data1:s.total-s.verifiedfiles,data2:s.verifiedfiles,label1:"Total",label2:"unverified Files",desc:"Verified Files"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"logout",onClick:function(){sessionStorage.clear(),n(!1),O.toast.info("Logged Out!")},children:"Logout"})]})},w=n(38),S=function(){var e=Object(c.useContext)(z),t=Object(i.a)(e,2),n=(t[0],t[1]),r=Object(c.useContext)(E),a=Object(i.a)(r,2),s=(a[0],a[1]),o=Object(c.useState)({username:"",password:""}),j=Object(i.a)(o,2),l=j[0],b=j[1];return Object(h.jsx)("div",{className:"login",children:Object(h.jsxs)("fieldset",{id:"login-fieldset",children:[Object(h.jsx)("legend",{children:"Admin Login"}),Object(h.jsx)("input",{id:"login-input",type:"text",placeholder:"username",value:l.username,onChange:function(e){return b(Object(w.a)(Object(w.a)({},l),{},{username:e.target.value}))}}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{id:"login-input",type:"password",placeholder:"password",value:l.password,onChange:function(e){return b(Object(w.a)(Object(w.a)({},l),{},{password:e.target.value}))}}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"login-button",onClick:function(){u.a.post("https://www.ecoj.org.za/coj/api/v1/user/login",l).then((function(e){n(!0),sessionStorage.setItem("uux",e.data.jwt),u.a.get("https://www.ecoj.org.za/coj/api/v1/user/getdata",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uux"))}}).then((function(e){return s(e.data)}))})).catch((function(e){return O.toast.error("Invalid credentials")}))},children:"Login"})]})})},N=function(e){var t=e.match,n=Object(c.useContext)(z),r=Object(i.a)(n,2),a=r[0];r[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:"../joh.png",alt:"Joburg-logo"}),Object(h.jsx)(o.a,{children:Object(h.jsx)(j.c,{children:Object(h.jsx)(j.a,{to:"".concat(t.url,"/abc"),exact:!0,component:a?C:S})})})]})},y=(n(304),r.a.createContext()),z=r.a.createContext(),E=r.a.createContext();var F=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),l=s[0],b=s[1],d=Object(c.useState)(null),g=Object(i.a)(d,2),f=g[0],p=g[1];return Object(c.useEffect)((function(){null!==sessionStorage.getItem("uux")&&(b(!0),u.a.get("https://www.ecoj.org.za/coj/api/v1/user/getdata",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uux"))}}).then((function(e){return p(e.data)})))}),[]),Object(h.jsx)(y.Provider,{value:[n,r],children:Object(h.jsx)(z.Provider,{value:[l,b],children:Object(h.jsxs)(E.Provider,{value:[f,p],children:[Object(h.jsx)(O.ToastContainer,{autoClose:1300,hideProgressBar:!0,pauseOnHover:!1,closeButton:!1}),Object(h.jsx)(o.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/coj/:ref",component:x}),Object(h.jsx)(j.a,{path:"/coj/pdf/read",component:m}),Object(h.jsx)(j.a,{path:"/coj/admin/",component:N})]})})]})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,332)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),k()},56:function(e,t,n){}},[[305,1,2]]]);
//# sourceMappingURL=main.460566eb.chunk.js.map